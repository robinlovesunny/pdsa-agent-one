# ğŸ¤– PDSAæ•°å­—åˆ†èº«æ™ºèƒ½ä½“

åŸºäºé˜¿é‡Œäº‘ç™¾ç‚¼RAGèƒ½åŠ›çš„è½»é‡çº§ä¸ªäººçŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿ,æä¾›ç®€æ´çš„WebèŠå¤©ç•Œé¢,å®ç°æ™ºèƒ½å¯¹è¯æœåŠ¡ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **å•é¡µé¢èŠå¤©åº”ç”¨** - ç”¨æˆ·ä½“éªŒæµç•…,ç•Œé¢ç®€æ´ç¾è§‚
- ğŸ§  **æ™ºèƒ½çŸ¥è¯†æ£€ç´¢** - é›†æˆé˜¿é‡Œäº‘ç™¾ç‚¼RAG,è‡ªåŠ¨æ£€ç´¢çŸ¥è¯†åº“
- ğŸ’¬ **å¤šè½®å¯¹è¯è®°å¿†** - æ”¯æŒä¸Šä¸‹æ–‡ç†è§£,å¯¹è¯è¿è´¯è‡ªç„¶
- ğŸ”’ **å®‰å…¨éš”ç¦»** - APIå¯†é’¥åç«¯ç®¡ç†,å‰ç«¯ä¸æš´éœ²æ•æ„Ÿä¿¡æ¯
- ğŸ¨ **æ·±è‰²ç§‘æŠ€é£** - ç°ä»£åŒ–UIè®¾è®¡,è§†è§‰æ•ˆæœå‡ºä¼—
- â˜ï¸ **äº‘ç«¯å°±ç»ª** - æœ¬åœ°å¼€å‘,å¯å¿«é€Ÿè¿ç§»åˆ°é˜¿é‡Œäº‘

## ğŸ“‹ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ | è¯´æ˜ |
|------|------|------|
| å‰ç«¯ | HTML/CSS/JavaScript | åŸç”ŸæŠ€æœ¯,é›¶æ„å»ºé…ç½® |
| åç«¯ | Python Flask | è½»é‡çº§Webæ¡†æ¶ |
| AIæœåŠ¡ | é˜¿é‡Œäº‘ç™¾ç‚¼ | RAGçŸ¥è¯†åº“é—®ç­” |
| ç¯å¢ƒç®¡ç† | python-dotenv | å®‰å…¨çš„é…ç½®ç®¡ç† |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python >= 3.8
- pip (æœ€æ–°ç‰ˆæœ¬)
- ç°ä»£æµè§ˆå™¨(Chrome/Firefox/Edge)

### 1ï¸âƒ£ é…ç½®é˜¿é‡Œäº‘ç™¾ç‚¼

#### æ­¥éª¤1: ä¸Šä¼ çŸ¥è¯†åº“

1. ç™»å½•[é˜¿é‡Œäº‘ç™¾ç‚¼æ§åˆ¶å°](https://bailian.console.aliyun.com/)
2. è¿›å…¥ã€Œæ•°æ®ç®¡ç†ã€â†’ã€Œåˆ›å»ºçŸ¥è¯†åº“ã€
3. ä¸Šä¼  `knowledge/` ç›®å½•ä¸‹çš„æ‰€æœ‰Markdownæ–‡ä»¶
4. ç­‰å¾…æ–‡æ¡£è§£æå®Œæˆ

#### æ­¥éª¤2: åˆ›å»ºåº”ç”¨

1. è¿›å…¥ã€Œåº”ç”¨ä¸­å¿ƒã€â†’ã€Œåˆ›å»ºåº”ç”¨ã€
2. é€‰æ‹©ã€Œæ™ºèƒ½ä½“åº”ç”¨ã€ç±»å‹
3. å…³è”åˆšæ‰åˆ›å»ºçš„çŸ¥è¯†åº“
4. é…ç½®åº”ç”¨å‚æ•°:
   - **æ¨¡å‹é€‰æ‹©**: qwen-plus æˆ– qwen-max
   - **æ£€ç´¢è®¾ç½®**: å¼€å¯RAGæ£€ç´¢
   - **å›å¤é£æ ¼**: æ ¹æ®éœ€æ±‚è‡ªå®šä¹‰
5. ä¿å­˜åº”ç”¨,å¤åˆ¶**åº”ç”¨ID**(æ ¼å¼: app-xxxxx)

#### æ­¥éª¤3: è·å–AccessKey

1. è®¿é—®[é˜¿é‡Œäº‘AccessKeyç®¡ç†](https://ram.console.aliyun.com/manage/ak)
2. ç‚¹å‡»ã€Œåˆ›å»ºAccessKeyã€
3. ä¿å­˜æ˜¾ç¤ºçš„ **AccessKey ID** å’Œ **AccessKey Secret**

> âš ï¸ **å®‰å…¨æç¤º**: AccessKey Secretä»…æ˜¾ç¤ºä¸€æ¬¡,è¯·å¦¥å–„ä¿ç®¡

### 2ï¸âƒ£ æœ¬åœ°éƒ¨ç½²

#### å…‹éš†é¡¹ç›®(å¦‚æœä»Gitè·å–)

```bash
git clone <your-repo-url>
cd pdsa-agent-one
```

#### é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cd backend
cp .env.example .env

# ç¼–è¾‘.envæ–‡ä»¶,å¡«å…¥çœŸå®é…ç½®
# ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨æ‰“å¼€.envæ–‡ä»¶
nano .env  # æˆ– vim .env æˆ– code .env
```

åœ¨ `.env` æ–‡ä»¶ä¸­å¡«å…¥ä»¥ä¸‹é…ç½®:

```bash
# é˜¿é‡Œäº‘AccessKey(æ­¥éª¤3è·å–)
ALIBABA_CLOUD_ACCESS_KEY_ID=ä½ çš„AccessKey_ID
ALIBABA_CLOUD_ACCESS_KEY_SECRET=ä½ çš„AccessKey_Secret

# ç™¾ç‚¼åº”ç”¨ID(æ­¥éª¤2è·å–)
BAILIAN_APP_ID=ä½ çš„åº”ç”¨ID

# Flaské…ç½®(å¯é€‰ä¿®æ”¹)
FLASK_ENV=development
FLASK_PORT=5000
```

#### å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨æ¸…åé•œåƒæºåŠ é€Ÿä¸‹è½½
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

#### å¯åŠ¨æœåŠ¡

```bash
# åœ¨backendç›®å½•ä¸‹è¿è¡Œ
python app.py
```

çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºè¡¨ç¤ºå¯åŠ¨æˆåŠŸ:

```
============================================================
ğŸ¤– PDSAæ•°å­—åˆ†èº«æ™ºèƒ½ä½“å¯åŠ¨ä¸­...
============================================================
ğŸ“Œ è¿è¡Œç¯å¢ƒ: development
ğŸ“Œ ç›‘å¬ç«¯å£: 5000
ğŸ“Œ è®¿é—®åœ°å€: http://localhost:5000
ğŸ“Œ ç™¾ç‚¼åº”ç”¨ID: app-xxxxx
============================================================
âœ… é…ç½®éªŒè¯é€šè¿‡,æœåŠ¡å™¨å¯åŠ¨ä¸­...
============================================================
```

### 3ï¸âƒ£ è®¿é—®åº”ç”¨

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€: **http://localhost:5000**

å¼€å§‹ä¸ä½ çš„æ•°å­—åˆ†èº«å¯¹è¯å§! ğŸ‰

## ğŸ“ é¡¹ç›®ç»“æ„

```
pdsa-agent-one/
â”œâ”€â”€ backend/                    # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app.py                 # Flaskä¸»ç¨‹åº(æ ¸å¿ƒæ–‡ä»¶)
â”‚   â”œâ”€â”€ requirements.txt       # Pythonä¾èµ–æ¸…å•
â”‚   â”œâ”€â”€ .env.example          # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚   â””â”€â”€ .env                   # ç¯å¢ƒå˜é‡é…ç½®(éœ€è‡ªè¡Œåˆ›å»º)
â”‚
â”œâ”€â”€ frontend/                   # å‰ç«¯èµ„æº
â”‚   â”œâ”€â”€ index.html            # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ style.css             # æ ·å¼è¡¨
â”‚   â””â”€â”€ app.js                # äº¤äº’é€»è¾‘
â”‚
â”œâ”€â”€ knowledge/                  # çŸ¥è¯†åº“æºæ–‡ä»¶
â”‚   â”œâ”€â”€ about_me.md           # ä¸ªäººä»‹ç»ç¤ºä¾‹
â”‚   â”œâ”€â”€ skills.md             # æŠ€èƒ½æ¸…å•ç¤ºä¾‹
â”‚   â””â”€â”€ projects.md           # é¡¹ç›®ç»å†ç¤ºä¾‹
â”‚
â”œâ”€â”€ docs/                      # æ–‡æ¡£
â”‚   â””â”€â”€ README.md             # æœ¬æ–‡ä»¶
â”‚
â”œâ”€â”€ .gitignore                # Gitå¿½ç•¥è§„åˆ™
â””â”€â”€ prd.md                    # äº§å“éœ€æ±‚æ–‡æ¡£
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡è¯¦è§£

| é…ç½®é¡¹ | è¯´æ˜ | æ˜¯å¦å¿…å¡« | è·å–æ–¹å¼ |
|--------|------|---------|---------|
| `ALIBABA_CLOUD_ACCESS_KEY_ID` | é˜¿é‡Œäº‘AccessKey ID | âœ… å¿…å¡« | [AccessKeyç®¡ç†](https://ram.console.aliyun.com/manage/ak) |
| `ALIBABA_CLOUD_ACCESS_KEY_SECRET` | é˜¿é‡Œäº‘AccessKey Secret | âœ… å¿…å¡« | åŒä¸Š |
| `BAILIAN_APP_ID` | ç™¾ç‚¼åº”ç”¨ID | âœ… å¿…å¡« | [ç™¾ç‚¼æ§åˆ¶å°](https://bailian.console.aliyun.com/) |
| `FLASK_ENV` | Flaskè¿è¡Œç¯å¢ƒ | â­• å¯é€‰ | development(å¼€å‘) / production(ç”Ÿäº§) |
| `FLASK_PORT` | æœåŠ¡ç›‘å¬ç«¯å£ | â­• å¯é€‰ | é»˜è®¤5000 |

### çŸ¥è¯†åº“æ–‡ä»¶

`knowledge/` ç›®å½•ä¸‹çš„Markdownæ–‡ä»¶éœ€è¦ä¸Šä¼ åˆ°ç™¾ç‚¼å¹³å°:

1. **about_me.md** - ä¸ªäººä»‹ç»ã€èƒŒæ™¯ã€ç‰¹ç‚¹
2. **skills.md** - æŠ€èƒ½æ¸…å•ã€æŠ€æœ¯æ ˆ
3. **projects.md** - é¡¹ç›®ç»å†ã€å·¥ä½œç»éªŒ

> ğŸ’¡ **æç¤º**: è¿™äº›æ˜¯ç¤ºä¾‹æ–‡ä»¶,è¯·æ›¿æ¢ä¸ºä½ è‡ªå·±çš„çœŸå®ä¿¡æ¯,ä»¥è·å¾—æ›´å¥½çš„å¯¹è¯æ•ˆæœ!

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### åŸºæœ¬å¯¹è¯

1. åœ¨è¾“å…¥æ¡†è¾“å…¥é—®é¢˜
2. ç‚¹å‡»ã€Œå‘é€ã€æŒ‰é’®æˆ–æŒ‰å›è½¦é”®
3. AIä¼šåŸºäºçŸ¥è¯†åº“å›ç­”ä½ çš„é—®é¢˜

### å¤šè½®å¯¹è¯

ç³»ç»Ÿä¼šè‡ªåŠ¨è®°ä½å¯¹è¯å†å²,ä½ å¯ä»¥:
- è¿½é—®ç»†èŠ‚:"å†è¯¦ç»†è¯´è¯´è¿™ä¸ªé¡¹ç›®"
- ç»§ç»­è¯é¢˜:"é‚£ä½ è¿˜ä¼šå“ªäº›æŠ€æœ¯?"
- å¼•ç”¨ä¸Šæ–‡:"åˆšæ‰æåˆ°çš„æŠ€èƒ½ä¸­..."

### æŸ¥çœ‹å¯¹è¯å†å²

åœ¨æµè§ˆå™¨æ§åˆ¶å°(F12)è¾“å…¥:
```javascript
debugHistory()
```

### å¯¹è¯æ—¥å¿—

æ‰€æœ‰å¯¹è¯ä¼šè‡ªåŠ¨ä¿å­˜åˆ° `backend/chat_logs.txt` æ–‡ä»¶ä¸­,æ ¼å¼:
```
[2025-11-15 14:30:25]
ç”¨æˆ·: ä½ æ˜¯è°?
AI: æˆ‘æ˜¯æ‚¨çš„ä¸ªäººæ•°å­—åˆ†èº«...
---
```

## â— å¸¸è§é—®é¢˜

### 1. å¯åŠ¨æ—¶æç¤º"ç¼ºå°‘é…ç½®"

**åŸå› **: .envæ–‡ä»¶æœªåˆ›å»ºæˆ–é…ç½®é¡¹æœªå¡«å†™

**è§£å†³**:
1. ç¡®ä¿å·²ä» `.env.example` å¤åˆ¶ä¸º `.env`
2. æ£€æŸ¥é…ç½®é¡¹æ˜¯å¦å¡«å†™æ­£ç¡®,ä¸è¦ä¿ç•™é»˜è®¤çš„ `your_xxx_here`

### 2. æç¤º"ç™¾ç‚¼APIè°ƒç”¨å¤±è´¥"

**å¯èƒ½åŸå› **:
- AccessKeyé…ç½®é”™è¯¯ â†’ é‡æ–°æ£€æŸ¥AccessKey
- åº”ç”¨IDä¸å­˜åœ¨ â†’ åœ¨ç™¾ç‚¼æ§åˆ¶å°éªŒè¯åº”ç”¨ID
- ç½‘ç»œè¿æ¥é—®é¢˜ â†’ æ£€æŸ¥ç½‘ç»œæ˜¯å¦æ­£å¸¸
- è´¦æˆ·æ¬ è´¹ â†’ æŸ¥çœ‹é˜¿é‡Œäº‘è´¦æˆ·ä½™é¢

### 3. AIå›ç­”è´¨é‡ä¸ä½³

**ä¼˜åŒ–å»ºè®®**:
- è¡¥å……å®Œå–„çŸ¥è¯†åº“å†…å®¹
- åœ¨ç™¾ç‚¼æ§åˆ¶å°ä¼˜åŒ–åº”ç”¨çš„æç¤ºè¯
- è°ƒæ•´æ£€ç´¢å‚æ•°
- å°è¯•ä½¿ç”¨æ›´å¼ºå¤§çš„æ¨¡å‹(qwen-max)

### 4. é¡µé¢æ— æ³•è®¿é—®

**æ£€æŸ¥é¡¹**:
1. FlaskæœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨
2. ç«¯å£5000æ˜¯å¦è¢«å ç”¨(ä¿®æ”¹FLASK_PORT)
3. æµè§ˆå™¨åœ°å€æ˜¯å¦æ­£ç¡®: `http://localhost:5000`

## ğŸš¢ éƒ¨ç½²åˆ°é˜¿é‡Œäº‘

### å‡†å¤‡å·¥ä½œ

1. âœ… è´­ä¹°é˜¿é‡Œäº‘ECSå®ä¾‹(æ¨èä¸ç™¾ç‚¼åŒåŒºåŸŸ,å¦‚åä¸œ2)
2. âœ… é…ç½®å®‰å…¨ç»„,å¼€æ”¾ç«¯å£(å¦‚5000æˆ–80)
3. âœ… å®‰è£…Python 3.8+ç¯å¢ƒ

### éƒ¨ç½²æ­¥éª¤

#### 1. ä¸Šä¼ ä»£ç 

```bash
# åœ¨æœ¬åœ°æ‰“åŒ…ä»£ç 
tar -czf pdsa-agent.tar.gz pdsa-agent-one/

# ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp pdsa-agent.tar.gz root@your-server-ip:/root/

# SSHç™»å½•æœåŠ¡å™¨
ssh root@your-server-ip

# è§£å‹ä»£ç 
tar -xzf pdsa-agent.tar.gz
cd pdsa-agent-one
```

#### 2. é…ç½®ç¯å¢ƒ

```bash
# å®‰è£…ä¾èµ–
cd backend
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
vim .env  # å¡«å…¥çœŸå®é…ç½®
```

#### 3. å¯åŠ¨æœåŠ¡

**æ–¹å¼1: ä½¿ç”¨nohup(ç®€å•æµ‹è¯•)**

```bash
nohup python app.py > app.log 2>&1 &
```

**æ–¹å¼2: ä½¿ç”¨Gunicorn(æ¨èç”Ÿäº§ç¯å¢ƒ)**

```bash
# å®‰è£…Gunicorn
pip install gunicorn -i https://pypi.tuna.tsinghua.edu.cn/simple/

# å¯åŠ¨æœåŠ¡(4ä¸ªworkerè¿›ç¨‹)
gunicorn -w 4 -b 0.0.0.0:5000 app:app --daemon
```

**æ–¹å¼3: é…ç½®Nginxåå‘ä»£ç†(æœ€ä½³å®è·µ)**

Nginxé…ç½®ç¤ºä¾‹:
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

#### 4. éªŒè¯éƒ¨ç½²

è®¿é—®: `http://your-server-ip:5000`

## ğŸ” å®‰å…¨å»ºè®®

1. **APIå¯†é’¥ä¿æŠ¤**
   - âŒ ç»ä¸åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†é’¥
   - âœ… ä½¿ç”¨.envæ–‡ä»¶ç®¡ç†é…ç½®
   - âœ… ç¡®ä¿.envæ–‡ä»¶åœ¨.gitignoreä¸­

2. **ç”Ÿäº§ç¯å¢ƒé…ç½®**
   - è®¾ç½® `FLASK_ENV=production`
   - å…³é—­Flaskè°ƒè¯•æ¨¡å¼
   - é…ç½®CORSç™½åå•
   - æ·»åŠ è¯·æ±‚é¢‘ç‡é™åˆ¶

3. **HTTPSæ”¯æŒ**
   - ä½¿ç”¨Nginxé…ç½®SSLè¯ä¹¦
   - æ¨èLet's Encryptå…è´¹è¯ä¹¦

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| å“åº”æ—¶é—´ | < 3ç§’ |
| å¹¶å‘æ”¯æŒ | 50+ |
| ç³»ç»Ÿå¯ç”¨æ€§ | 99.9% |
| å¯¹è¯å‡†ç¡®ç‡ | 85%+ |

## ğŸ› ï¸ æ‰©å±•åŠŸèƒ½

æœªæ¥å¯ä»¥æ·»åŠ çš„åŠŸèƒ½:

- [ ] å¯¹è¯æŒä¹…åŒ–å­˜å‚¨(æ•°æ®åº“)
- [ ] ç”¨æˆ·ç™»å½•å’Œå¤šç”¨æˆ·æ”¯æŒ
- [ ] å¯¹è¯åˆ†äº«åŠŸèƒ½
- [ ] è¯­éŸ³è¾“å…¥æ”¯æŒ
- [ ] æµå¼è¾“å‡º(æ‰“å­—æœºæ•ˆæœ)
- [ ] Function Callingå·¥å…·è°ƒç”¨
- [ ] å¤šçŸ¥è¯†åº“åˆ‡æ¢

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [é˜¿é‡Œäº‘ç™¾ç‚¼å®˜æ–¹æ–‡æ¡£](https://help.aliyun.com/zh/bailian/)
- [Flaskå®˜æ–¹æ–‡æ¡£](https://flask.palletsprojects.com/)
- [Python-dotenvæ–‡æ¡£](https://github.com/theskumar/python-dotenv)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Request!

## ğŸ“„ å¼€æºåè®®

MIT License

## ğŸ‘¨â€ğŸ’» ä½œè€…

PDSA Team

---

**äº«å—ä¸ä½ çš„æ•°å­—åˆ†èº«å¯¹è¯å§! ğŸš€**

å¦‚æœ‰é—®é¢˜,è¯·æŸ¥çœ‹æ–‡æ¡£æˆ–æäº¤Issueã€‚
